import{a as v}from"./axios-G2rPRu76.js";import{_ as V,x as g,h as i,o as x,c as k,i as s,b as e,m as p,F as y,k as w,q as u,f as F,y as I,p as L,l as q}from"./index-KgTiI9a3.js";const C={data(){return{item:{title:"",is_enabled:1,percent:"",due_date:"",code:""},errorMsg:"",isLoading:!1}},components:{},methods:{async addItem(){const n=new Date(this.item.due_date)/1e3,t={...this.item,due_date:n};this.isLoading=!0;try{const d=await v.post("https://vue3-course-api.hexschool.io/v2/api/jeremychan/admin/coupon",{data:t});alert(`${d.data.message}`),this.$router.push("/admin/coupons")}catch(d){g.error(d.data.message)}this.isLoading=!1}}},l=n=>(L("data-v-1ac820b8"),n=n(),q(),n),M={class:"container my-5"},S={class:"text-start mb-4 d-flex justify-content-between border-bottom pb-3"},U=l(()=>e("h3",null,"新增優惠卷",-1)),B={class:"btn btn-outline-primary"},E={class:"p-2 p-lg-3 col-md-6"},N={class:"form-floating mb-4"},j=l(()=>e("label",{for:"title"},"商品名稱*",-1)),D={class:"form-floating mb-4"},R=l(()=>e("label",{for:"code"},"折扣碼*",-1)),z={class:"form-floating mb-4"},A=l(()=>e("label",{for:"due_date"},"使用期限*",-1)),T={class:"form-floating mb-4"},G=l(()=>e("label",{for:"percent"},"折扣%數*",-1)),H={class:"form-floating mb-4"},J={class:"form-check"},K=l(()=>e("label",{class:"form-check-label",for:"is_enabled"},"是否啟用",-1)),O=l(()=>e("div",{class:"d-flex gap-2 mt-3 btn-container"},[e("button",{type:"submit",class:"btn btn-primary btn-md mb-4"},"確認")],-1));function P(n,t,d,Q,o,_){const b=i("loadingVue"),f=i("RouterLink"),c=i("VField"),r=i("ErrorMessage"),h=i("VForm");return x(),k(y,null,[s(b,{active:o.isLoading},null,8,["active"]),e("div",M,[e("div",S,[U,e("button",B,[s(f,{class:"navbar-brand",to:"/admin/coupons"},{default:p(()=>[w(" 優惠卷列表 ")]),_:1})])]),s(h,{class:"row mt-5",onSubmit:_.addItem},{default:p(({errors:m})=>[e("div",E,[e("div",null,[e("div",N,[s(c,{type:"text",id:"title",placeholder:"請輸入商品名稱",name:"title",class:u(["form-control",{"is-invalid":m.title}]),rules:"required",modelValue:o.item.title,"onUpdate:modelValue":t[0]||(t[0]=a=>o.item.title=a)},null,8,["class","modelValue"]),s(r,{name:"title",class:"invalid-feedback"}),j]),e("div",D,[s(c,{type:"text",id:"code",placeholder:"請輸入商品名稱",name:"code",class:u(["form-control",{"is-invalid":m.code}]),rules:"required",modelValue:o.item.code,"onUpdate:modelValue":t[1]||(t[1]=a=>o.item.code=a)},null,8,["class","modelValue"]),s(r,{name:"code",class:"invalid-feedback"}),R]),e("div",z,[s(c,{type:"date",id:"due_date",placeholder:"請輸入單位",name:"due_date",class:u(["form-control",{"is-invalid":m.due_date}]),rules:"required",modelValue:o.item.due_date,"onUpdate:modelValue":t[2]||(t[2]=a=>o.item.due_date=a)},null,8,["class","modelValue"]),s(r,{name:"due_date",class:"invalid-feedback"}),A]),e("div",T,[s(c,{type:"number",id:"percent",placeholder:"請輸入售價",name:"percent",class:u(["form-control",{"is-invalid":m.percent}]),rules:"required",modelValue:o.item.percent,"onUpdate:modelValue":t[3]||(t[3]=a=>o.item.percent=a),modelModifiers:{number:!0}},null,8,["class","modelValue"]),s(r,{name:"percent",class:"invalid-feedback"}),G]),e("div",H,[e("div",J,[F(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>o.item.is_enabled=a),id:"is_enabled",class:"form-check-input",type:"checkbox","true-value":1,"false-value":0},null,512),[[I,o.item.is_enabled]]),K])])]),O])]),_:1},8,["onSubmit"])])],64)}const Y=V(C,[["render",P],["__scopeId","data-v-1ac820b8"]]);export{Y as default};
