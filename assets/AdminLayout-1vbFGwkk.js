import{a}from"./axios-G2rPRu76.js";import{_ as m,g as _,a as h,h as i,o as f,c as k,b as r,i as t,m as c,F as b,k as n,p as v,l as x}from"./index-KgTiI9a3.js";const g=e=>(v("data-v-c118bf81"),e=e(),x(),e),w=g(()=>r("div",null," 後臺管理",-1)),A={class:"bar"},R={__name:"AdminLayout",setup(e){const u=_(),l=()=>{const o=document.cookie.replace(/(?:(?:^|.*;\s*)token\s*\=\s*([^;]*).*$)|^.*$/,"$1");console.log(o),o?(a.defaults.headers.common.Authorization=o,a.post("https://vue3-course-api.hexschool.io/v2/api/user/check")):(alert("請登入admin帳號。"),u.push("/login"))},d=async()=>{try{await a.post("https://vue3-course-api.hexschool.io/v2/logout"),alert("登出成功"),document.cookie="token=;",document.cookie="expDate=;",a.defaults.headers.common.Authorization=null,u.push("/")}catch(o){alert(o.response.data.message)}};return h(()=>{l()}),(o,V)=>{const s=i("RouterLink"),p=i("RouterView");return f(),k(b,null,[w,r("div",A,[t(s,{class:"btn",to:"/"},{default:c(()=>[n("Home")]),_:1}),t(s,{class:"btn",to:"/admin/products"},{default:c(()=>[n("後臺產品管理")]),_:1}),t(s,{class:"btn",to:"/admin/orders"},{default:c(()=>[n(" 後台訂單管理 ")]),_:1}),t(s,{class:"btn",to:"/admin/coupons"},{default:c(()=>[n(" 後台優惠卷管理 ")]),_:1}),r("button",{onClick:d,class:"btn btn-warning"},"登出")]),t(p)],64)}}},I=m(R,[["__scopeId","data-v-c118bf81"]]);export{I as default};
